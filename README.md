# MySQL-Route

#### 介绍
MySQL学习路线


#### 从零开始MySQL 
##### SQL VS NOSQL
+ 关系型数据库
    + 关系型数据库的特点
        +  数据结构花存储在二维表中
        +  支持事务的原子性，一致性，隔离性，持久性
        +  支持使用SQL语言对存储在其中的数据进行操作
    + 关系型数据库的适用场景
        +  数据之间存在着一定关系，需要关联查询数据的场景
        +  需要事务支持的业务场景
        +  需要使用SQL语言灵活操作数据的场景。
+ 非关系型数据库
    +  非关系型数据库的特点
        +  存储结构灵活，没有固定的结构
        +  对事务的支持比较弱，但对数据的并发处理性能高
        +  大多不使用SQL语言操作数据 
    +  非关系型数据库的适用场景
        + 数据结构不固定的场景
        + 对事务要求不高，但读写并发比较大的场景
        + 对数据的处理操作比较简单的场景。
+ 关系数据库选型原则
    + 数据库使用的广泛性
    + 数据库的可扩展性
    + 数据库的安全性和稳定性
        +  MySQL主从复制集群可达到99%的可用性
        +  配合主从复制高可用架构可以达到99.99%的可用性 
        +  支持对存储在MySQL上的数据进行分级安全控制
    + 数据库所支持的系统
+ 宽表模式存在的问题（适用于列存储的数据报表应用）
    +  数据插入异常： 部分数据由于缺失主键信息而无法写入表中 
    +  数据更新异常： 修改一行中某列的值时，同时修改了多行数据
    +  数据删除异常： 删除某一数据时不得不删除另一条数据
    +  数据冗余： 相同的数据在一个表中出现了多次。 
+ 数据库设计范式
    + 第一范式： 表中的所有字段都是不可再分的
    + 第二范式： 表中必须存在业务主键，并且非主键依赖于全部业务主键 
    + 第三范式： 表中的非主键列之间不能相互依赖
+ MySQL常见的存储引擎
    + MYISAM： MySQL 5.6之前的默认引擎，最常用的非事务型存储引擎
    + CSV：　以CSV格式存储的非事务型存储引擎
    + Archive ： 只允许查询和新增数据而不允许修改的非事务型存储引擎
    + Memory : 是一种易失性非事务型存储引擎
    + INNODB ： 最常用的事务型存储引擎 
        +  事务型存储引擎支持ACID 
        +  数据按逐渐聚集存储
        +  支持行级锁及MVCC 
        +  支持Btree 和自适应hash 索引
        +  支持全文和空间索引 
+ 如何为数据选择合适的数据类型
    +  有限选择符合存储数据需求最小的数据类型
    +  谨慎使用ENUM，TEXT字符串类型
    + 同财务相关的数值型数据，必须使用decimal类型。
+ 如何为表和列选择适合的表明
    +  所有数据库对象名称必须使用小写字母可选用下划线分割
    +  所有数据库对象名称定义禁止使用MySQL保留关键字
    +  数据库对象的命名要能做到见名识义，并且最好不要超过32个字
    +  临时库表必须以tmp为前缀并以日期为后缀
    +  用于备份的库，表必须以bak为前缀并以日期为后缀
    +  所有存储相同数据的列明和列类型必须一致 
    
    
#### Mysql知识点
+ MySQL中的SQL执行
    + mysql由三层组成
        + 连接层：客户端和服务器端建立连接，客户端发送sql至服务器端
        + SQL层： 对SQL语句进行查询处理
        + 存储引擎层： 与数据库文件打交道，负责数据的存储和读取 
    + mysql执行流程：SQL语句→缓存查询→解析器→优化器→执行器
        + 查询缓存，server如果在查询缓存中发现了这条SQL语句，就会直接将结果返回给客户端；如果没有，就进入到解析器阶段。
        + 解析器：在解析器中对SQL语句进行语法分析、语义分析。
        + 优化器：在优化器中会确定SQL语句的执行路径，比如是根据全表检索，还是根据索引来检索等
        + 执行器：在执行之前需要判断该用户是否具备权限，如果具备权限就执行SQL查询并返回结果。
    
#### MySQL学习路线
1. [SQL必知必会](https://time.geekbang.org/column/intro/100073201)
2. [Mysql45讲](https://time.geekbang.org/column/intro/100020801)

